"use strict";var Letsbook=function(){var e={init:function(){e.appendCSS(),e.changeLogo(),e.insertModal(),e.addButtonEvents()},changeLogo:function(){document.querySelector("#navContent img").src="https://i.imgur.com/VMNACWl.png"},appendCSS:function(){var e=document.createElement("link");e.type="text/css",e.rel="stylesheet",e.href="challenge.css",document.body.appendChild(e)},addButtonEvents:function(){for(var t=document.querySelectorAll(".itemBtnMaisAcomodacoes"),o=0;o<t.length;o++)t[o]&&function(){var n=t[o].getAttribute("onclick");n=(n=n.split("("))[1].substr(0,1),t[o].setAttribute("onclick","javascript:void(0)"),t[o].addEventListener("click",function(t){return t.preventDefault(),e.requestHotelInfo(n),!1})}();document.querySelector("#closeModal").addEventListener("click",function(t){return t.preventDefault(),e.toggleModal(),!1})},requestHotelInfo:function(t){var o=new XMLHttpRequest;o.onreadystatechange=function(){4==o.readyState&&200==o.status&&e.buildModalContent(JSON.parse(o.responseText))},o.open("GET","http://localhost:3000/promo.json",!0),o.send(null),e.toggleModal()},toggleModal:function(){var e=document.querySelector(".modal-promo"),t=document.querySelector(".modal-hotel-list");""==e.style.display||"none"==e.style.display?e.style.display="block":(e.style.display="none",t.innerHTML="")},insertModal:function(){var e=document.createElement("div"),t=document.createElement("div"),o=document.createElement("div");e.className="modal-promo",t.className="modal-promo-content",t.innerHTML='<h1>Promoções</h1><button id="closeModal" class="close"></button>',o.className="modal-hotel-list",document.body.appendChild(e),e.appendChild(t),t.appendChild(o)},buildModalContent:function(t){for(var o=document.querySelector(".modal-hotel-list"),n="",l=0;l<t.length;l++){for(var a="",i=0;i<t[l].DescricaoTarifa.length;i++)a+="<li>- "+t[l].DescricaoTarifa[i]+"</li>";n+='<div class="promo '+(l%4==0?"no-border":"")+'"><div class="title">'+t[l].NomeTarifa+"</div><ul>"+a+'</ul><div class="values"><div class="old-value">'+e.maskPrice(t[l].ValorTarifaSemDesconto)+'</div><div class="new-value">'+e.maskPrice(t[l].ValorTarifa)+'</div></div><div><button class="btn">Reservar</button></div></div>'}o.innerHTML=n},maskPrice:function(e){return"R$ "+e+",00"}};return e}();Letsbook.init();